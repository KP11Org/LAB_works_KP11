# **Лабораторная работа 3 (2 урока)**
### Работа с виртуальными окружениями в Python (venv)

Виртуальные окружения (virtual environments) в Python позволяют изолировать зависимости проекта от глобальной системы Python. Это особенно полезно, когда вы работаете над несколькими проектами, которые требуют разных версий библиотек или даже разных версий Python.

#### Цели урока:
1. Понять, что такое виртуальное окружение и зачем оно нужно.
2. Научиться создавать и активировать виртуальные окружения.
3. Установить и управлять зависимостями в виртуальном окружении.
4. Деактивировать и удалять виртуальные окружения.

---

### Шаг 1: Что такое виртуальное окружение?

Виртуальное окружение — это изолированная среда для Python, которая содержит:
- Отдельную копию интерпретатора Python.
- Собственный набор установленных пакетов (библиотек).
- Утилиты для управления зависимостями (`pip`).

Преимущества:
- Изоляция зависимостей между проектами.
- Возможность использовать разные версии библиотек для разных проектов.
- Упрощение переноса проекта на другой компьютер.

---

### Шаг 2: Создание виртуального окружения

Для создания виртуального окружения используется встроенный модуль `venv`.

1. Откройте терминал (или командную строку) (можно испльзовать VS Code or PyCharm).
2. Перейдите в папку вашего проекта (ваша фамилия).
3. Создайте виртуальное окружение с помощью команды:
   - **Windows:**
   ```bash
   python -m venv myenv
   ```
   - **Linux or Mac:**
   ```bash
   python3 -m venv myenv
   ```

   Здесь `myenv` — это имя папки, в которой будет создано виртуальное окружение. Вы можете выбрать любое имя.

4. После выполнения команды в папке проекта появится папка `myenv`, содержащая виртуальное окружение.

---

### Шаг 3: Активация виртуального окружения

Чтобы начать использовать виртуальное окружение, его нужно активировать.

#### Для Windows:
```bash
myenv\Scripts\activate
```

#### Для macOS/Linux:
```bash
source myenv/bin/activate
```

После активации в командной строке появится префикс `(myenv)`, указывающий, что виртуальное окружение активно.

---

### Шаг 4: Установка зависимостей

В активированном виртуальном окружении вы можете устанавливать пакеты с помощью `pip`. Например, установим библиотеку `requests`:

```bash
pip install requests
```

Все установленные пакеты будут доступны только в этом виртуальном окружении.

---

### Шаг 5: Сохранение зависимостей

Чтобы сохранить список всех установленных зависимостей в файл, используйте команду:

```bash
pip freeze > requirements.txt
```

Файл `requirements.txt` будет содержать список всех пакетов и их версий. Это полезно для воссоздания окружения на другом компьютере.

---

### Шаг 6: Установка зависимостей из файла

Если у вас есть файл `requirements.txt`, вы можете установить все зависимости одной командой:

```bash
pip install -r requirements.txt
```

---

### Шаг 7: Деактивация виртуального окружения

Чтобы выйти из виртуального окружения, используйте команду:

```bash
deactivate
```

После этого префикс `(myenv)` исчезнет, и вы вернетесь в глобальное окружение Python.

---

### Шаг 8: Удаление виртуального окружения

Чтобы удалить виртуальное окружение, просто удалите папку, в которой оно находится. Например:

```bash
rm -rf myenv  # macOS/Linux
```

или

```bash
rmdir /s /q myenv  # Windows
```

---

### Практические задания

1. **Создание виртуального окружения:**
   - Создайте виртуальное окружение с именем `myprojectenv`.
   - Активируйте его.

2. **Установка зависимостей:**
   - Установите библиотеку `numpy` в виртуальное окружение.
   - Проверьте, что библиотека установлена, с помощью команды `pip list`.

3. **Сохранение зависимостей:**
   - Создайте файл `requirements.txt`, содержащий список всех установленных пакетов.
   - Удалите виртуальное окружение и создайте его заново с именем `env`.
   - Установите зависимости из файла `requirements.txt`.

4. **Работа с несколькими окружениями:**
   - Создайте два виртуальных окружения: `env1` и `env2`.
   - В `env1` установите библиотеку `requests`, а в `env2` — библиотеку `flask`.
   - Проверьте, что зависимости изолированы.
   - Сохраните зависимости 1го виртульного пространства в `req-env1.txt`. 2го - `req-env2.txt`

5. **Интеграция с Git**
   - создайте файл `.gitignore` и игнорируйте все виртулальные пространства которые вы создали. Пример:
```bash
env/
env1/
env2/
```
   - git init -> git add . -> git commit -m "first commit" -> git remote add link <URL-repos> -> git push -u link main
   - Убедитесь что в удаленном репозитории (браузер) отсутствуют виртуальные пространства
   - В браузере создайте файл README.md и напишите для чего нужно игнорировать папку с виртуальным пространством и почему мы пушим только файлы requirements.

---

### Пример выполнения задания 1 и 2:

```bash
# Создание виртуального окружения
python -m venv myprojectenv

# Активация окружения (Windows)
myprojectenv\Scripts\activate

# Установка библиотеки numpy
pip install numpy

# Проверка установленных пакетов
pip list
```

---

### Оценивание
1. Выполнены первые 8 шагов - 35%
2. Практические задания - 1 шаг 10% (Первые 4)
3. 5 шаг Интеграция с Git - 25%

### 80% - оценка 5
### 60% - оценка 4
### 30% - оценка 3
