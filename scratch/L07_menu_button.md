# **Лабораторная работа №7: Меню, кнопки и смена уровней**

## **Теория**

В полноценных играх редко обходятся без **меню**, **кнопок** и **уровней**. Это делает интерфейс понятным и управление удобным.

В Scratch:
- **Кнопки** создаются как спрайты с реакцией на щелчок.
- **Меню** — это фон или набор спрайтов, которые показываются в начале игры.
- **Смена уровней** реализуется через переменные состояния (например, `Состояние игры`) или сообщения.

Часто используются переменные-флаги:
- `Состояние: меню`, `игра`, `уровень 2`, `победа`.
- В зависимости от значения переменной, спрайты ведут себя по-разному.

Также важно использовать **сообщения** для синхронизации смены экранов.

---

## **Практическая часть**

**Цель:** Создать игру с главным меню, кнопками "Играть" и "Уровень 2", а также двумя уровнями сложности.

### **Шаг 1: Создайте новый проект**
1. Перейдите на [https://scratch.mit.edu](https://scratch.mit.edu) → "Создать".
2. Удалите стандартного кота.

### **Шаг 2: Создайте переменную состояния**
1. В категории **"Переменные"** создайте переменную:
   - Название: `Состояние`
   - Для всех спрайтов.
2. Установите возможные значения: `меню`, `уровень1`, `уровень2`, `победа`.

### **Шаг 3: Создайте фон меню**
1. Перейдите в **"Фоны"** → **"Нарисовать фон"**.
2. Нарисуйте простое меню:
   - Надпись: **"Добро пожаловать в игру!"**
   - Две кнопки: **"Играть"** и **"Уровень 2"**.
3. Сохраните как **"Меню"**.

### **Шаг 4: Создайте кнопку "Играть"**
1. Нарисуйте новый спрайт — прямоугольник с надписью **"Играть"**.
2. В его скриптах:
   - `когда щёлкнут по [Кнопка Играть]`
   - `отправить [уровень1]`
   - `установить [Состояние] в [уровень1]`

### **Шаг 5: Создайте кнопку "Уровень 2"**
1. Создайте второй спрайт — **"Кнопка Уровень2"**.
2. В скриптах:
   - `когда щёлкнут по [Кнопка Уровень2]`
   - `отправить [уровень2]`
   - `установить [Состояние] в [уровень2]`

### **Шаг 6: Создайте фон для уровня 1**
1. Добавьте новый фон: **"Forest"**.
2. Назовите: **"Уровень 1"**.

### **Шаг 7: Создайте игрока**
1. Добавьте спрайт: **"Unicorn"**.
2. В его скриптах:
   - `когда щёлкнут по зелёному флагу`
   - `установить [Состояние] в [меню]`
   - `скрыть`

### **Шаг 8: Реализуйте отображение по состоянию**
1. В скрипт **Unicorn** добавьте:
   - `всегда`
     - `если <(Состояние) = [меню]> то`
       - `перейти к фону [Меню]`
       - `скрыть`
     - `иначе`
       - `если <(Состояние) = [уровень1]> то`
         - `перейти к фону [Уровень 1]`
         - `показать`
         - `идти в x: 0 y: -100`
       - `конец`
     - `конец`
   - `конец`

### **Шаг 9: Добавьте простую игру на уровне 1**
1. Добавьте спрайт **"Apple"**.
2. В его скриптах:
   - `когда я получаю [уровень1]`
   - `показать`
   - `идти в случайное место`
   - `всегда`
     - `если <(Состояние) = [уровень1]> и <касается [Unicorn]> то`
       - `изменить x на 200`
       - `ждать 0.1 секунды`
       - `изменить x на -200`
       - `играть звук [pop]`
     - `конец`
   - `конец`

> При касании яблоко "убегает".

### **Шаг 10: Создайте уровень 2**
1. Добавьте фон: **"Space"**.
2. В скрипт **Unicorn** в блок `иначе` добавьте:
   - `если <(Состояние) = [уровень2]> то`
     - `перейти к фону [Space]`
     - `показать`
     - `идти в x: 0 y: -100`
   - `конец`

3. Настройте **Apple** на реакцию на `уровень2` — например, двигаться вверх-вниз.

### **Шаг 11: Добавьте кнопку "Назад в меню"**
1. Создайте спрайт **"Кнопка Назад"**.
2. Поместите его на уровень 1 и 2 (он будет отображаться везде).
3. Скрипт:
   - `когда щёлкнут по [Кнопка Назад]`
   - `отправить [меню]`
   - `установить [Состояние] в [меню]`

### **Шаг 12: Настройте поведение всех спрайтов**
1. Убедитесь, что **все спрайты** реагируют на изменение `Состояние`.
2. Например, **Apple** должен быть **скрыт** в меню.

### **Шаг 13: Добавьте музыку**
1. Импортируйте разные звуки для меню и уровней.
2. В скрипты добавьте:
   - `когда я получаю [уровень1]` → `воспроизвести звук [level1 music]`
   - `когда я получаю [меню]` → `воспроизвести звук [menu music]`

### **Шаг 14: Сохраните проект**
1. Нажмите **"Файл" → "Сохранить как"**.
2. Назовите: **"ЛР7_Меню_и_уровни"**.

---

## **Самостоятельная часть**

1. **Задание 1:** Добавьте **счётчик очков** на уровне 1. При касании яблока игрок получает 1 очко. Счёт должен сбрасываться при возврате в меню.

2. **Задание 2:** Сделайте так, чтобы при переходе на **уровень 2** появлялось **новое препятствие** (например, летающий дракон), который "отталкивает" игрока при касании.

---

## **Контрольные вопросы**

1. Зачем нужна переменная `Состояние` в игре?
2. Как сделать, чтобы спрайт отображался только на определённом уровне?

> *Ответы должны быть даны устно преподавателю.*

---

## **Слепая печать**

1. Перейдите на сайт [https://stamina-online.com/](https://stamina-online.com/)
2. Пройдите два урока по [Частотные словари](https://stamina-online.com/ru/workout/dictionary/40)

---

## **Критерии оценивания**

| Критерий                     | Оценка |
|-----------------------------|--------|
| Выполнена практическая часть | **3** |
| Выполнен пункт "Слепая печать" | **4** |
| Выполнены оба задания самостоятельной части | **5** |

> *Оценка "5" ставится, если:*
> - *счётчик работает и сбрасывается,*
> - *препятствие на уровне 2 активно и влияет на игрока.*
