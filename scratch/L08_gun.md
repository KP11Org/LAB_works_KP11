# **Лабораторная работа №8: Прицеливание, стрельба и обработка мыши**

## **Теория**

В этой лабораторной работе вы научитесь создавать **шутер** или **кликер**, где игрок управляется мышью и "стреляет" по целям. Это достигается с помощью:
- **Позиции мыши** — спрайт следует за курсором.
- **Щелчка мыши** — для запуска действия (выстрела, взрыва).
- **Клонирования** — для создания пуль или эффектов.
- **Направления** — чтобы объект "смотрел" на цель.

Ключевые блоки:
- `мышка x`, `мышка y` — текущие координаты курсора.
- `когда щёлкнут по [спрайт]` — реакция на клик.
- `установить направление в [направление к мыши]` — поворот к курсору.
- `расстояние до [мыши]` — проверка дистанции.

---

## **Практическая часть**

**Цель:** Создать игру, в которой игрок управляется мышью и стреляет по мишеням, зарабатывая очки.

### **Шаг 1: Создайте новый проект**
1. Перейдите на [https://scratch.mit.edu](https://scratch.mit.edu) → "Создать".
2. Удалите стандартного кота.

### **Шаг 2: Создайте переменные**
1. Создайте переменные (для всех спрайтов):
   - `Очки`
   - `Жизни` (начальное значение: 3)

### **Шаг 3: Создайте спрайт игрока — "Пушка"**
1. Добавьте спрайт: **"Gobo"** или нарисуйте пушку.
2. В скриптах:
   - `когда щёлкнут по зелёному флагу`
   - `установить [Очки] в 0`
   - `установить [Жизни] в 3`
   - `всегда`
     - `идти в x: (мышка x) y: -150`
     - `установить направление в [90]`
     - `повернуться к (мышка x), (мышка y)`
   - `конец`

> Пушка движется по дну сцены и поворачивается к мыши.

### **Шаг 4: Создайте спрайт "Пуля"**
1. Нарисуйте маленький круг — пуля.
2. В скриптах:
   - `когда щёлкнут по [Пушка]`
   - `создать клон [себя]`

> При клике по пушке создаётся пуля.

### **Шаг 5: Настройте поведение клона-пули**
1. Добавьте:
   - `когда начинаю как клон`
2. Внутрь:
   - `показать`
   - `идти в x: (x позиция [Пушка]) y: (y позиция [Пушка])`
   - `установить направление в [направление пушки]`
   - `повторять до тех пор, пока <коснулся края сцены или мишени>`
     - `идти на 10 шагов`
     - `ждать 0.05 секунды`
   - `конец`
   - `удалить этот клон`

### **Шаг 6: Создайте мишень**
1. Добавьте спрайт: **"Apple"**.
2. В скриптах:
   - `когда щёлкнут по зелёному флагу`
   - `всегда`
     - `идти в случайное место`
     - `ждать (случайное от 1 до 3) секунд`
   - `конец`

### **Шаг 7: Реакция на попадание**
1. В скрипт **пули** (внутрь цикла) добавьте:
   - `если касается [Apple] то`
     - `изменить [Очки] на 1`
     - `создать клон [взрыв]` (если есть)
     - `остановить [остановить этот скрипт]`
   - `конец`

### **Шаг 8: Создайте эффект взрыва**
1. Нарисуйте спрайт **"Взрыв"** (лучи, огонь).
2. Скрипт:
   - `когда начинаю как клон`
   - `показать`
   - `ждать 0.3 секунды`
   - `удалить этот клон`

3. В скрипт **пули** добавьте:  
   `создать клон [взрыв]` после попадания.

### **Шаг 9: Добавьте промахи**
1. В скрипт **мишени** добавьте:
   - `если <(Очки) > 5> то`
     - `ждать (1) секунду`
   - `иначе`
     - `ждать (2) секунды`
   - `конец`

> Чем больше очков — тем быстрее появляется мишень.

### **Шаг 10: Реализуйте жизни**
1. В скрипт **пули** добавьте:
   - Если **пуля достигла края**, не попав:
     - `изменить [Жизни] на -1`
     - `если <(Жизни) = [0]> то`
       - `отправить [Игра окончена]`
       - `остановить [все]`
     - `конец`

### **Шаг 11: Добавьте фон и звуки**
1. Фон: **"Neon"** или **"City"**.
2. Звуки: **"Laser"** при выстреле, **"Explosion"** при попадании.

### **Шаг 12: Сделайте пушку "дрожащей" при выстреле**
1. В скрипт **пули** (в начало):
   - `изменить x на -5`
   - `ждать 0.05 секунды`
   - `изменить x на 5`

> Эффект отдачи.

### **Шаг 13: Ограничьте частоту выстрелов**
1. В скрипт **пушки**:
   - После `создать клон` добавьте:
     - `ждать 0.3 секунды`

> Чтобы игрок не мог стрелять слишком быстро.

### **Шаг 14: Сохраните проект**
1. Нажмите **"Файл" → "Сохранить как"**.
2. Назовите: **"ЛР8_Стрельба_по_мишеням"**.

---

## **Самостоятельная часть**

1. **Задание 1:** Добавьте **вторую мишень**, которая двигается по сцене (например, влево-вправо). За её поражение даётся **2 очка**.

2. **Задание 2:** Сделайте так, чтобы при 10 очках игрока встречало сообщение: **"Поздравляем! Ты прошёл игру!"** — и игра завершалась с сообщением о победе.

---

## **Контрольные вопросы**

1. Как заставить спрайт поворачиваться к курсору мыши?
2. Зачем нужно удалять клоны пуль после выстрела?

> *Ответы должны быть даны устно преподавателю.*

---

## **Слепая печать**

1. Перейдите на сайт [https://stamina-online.com/](https://stamina-online.com/)
2. Пройдите два урока по [Частотные словари](https://stamina-online.com/ru/workout/dictionary/40)

---

## **Критерии оценивания**

| Критерий                     | Оценка |
|-----------------------------|--------|
| Выполнена практическая часть | **3** |
| Выполнен пункт "Слепая печать" | **4** |
| Выполнены оба задания самостоятельной части | **5** |

> *Оценка "5" ставится, если:*
> - *вторая мишень двигается и даёт 2 очка,*
> - *при 10 очках появляется сообщение о победе и игра останавливается.*
